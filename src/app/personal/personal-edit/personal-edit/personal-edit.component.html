<h1 *ngIf="personElement.id == null" class="text-center">Nueva Persona</h1>
<h1 *ngIf="personElement.id != null" class="text-center">Modificar Persona</h1>

<div [formGroup]="personForm" class="flex flex-column gap-4">

  <div class="flex flex-row mb-5">
    <span class="p-float-label w-full p-input-icon-right" *ngIf="!personElement.id">

      <p-autoComplete [(ngModel)]="internSelected" styleClass="w-full" inputStyleClass="w-full"
        (onSelect)="onPersonSelect($event)" [suggestions]="groupPerson" [forceSelection]="true"
        [showEmptyMessage]="true" (completeMethod)="searchPerson($event)" field="field" dropdownIcon="pi pi-search"
        [disabled]="checked" [ngModelOptions]="{standalone: true}"></p-autoComplete>

      <label>Persona</label>

      <i class="pi pi-search"></i>

    </span>

  </div>

  <div class="flex flex-row gap-4">

    <span class="p-float-label flex-1">
      <input id="name" type="text" pInputText class="w-full" formControlName="saga">
      <label>Saga</label>
    </span>

    <span class="p-float-label flex-1">
      <input id="name" type="text" pInputText class="w-full" formControlName="username">
      <label>Username</label>
    </span>

  </div>

  <div class="flex flex-row gap-4">

    <span class="p-float-label flex-1">
      <input id="name" type="text" pInputText class="w-full" formControlName="name">
      <label>Nombre</label>
    </span>

    <span class="p-float-label flex-1">
      <input id="name" type="text" pInputText class="w-full" formControlName="lastname">
      <label>Apellidos</label>
    </span>

  </div>



  <div class="flex flex-row gap-4">
    <span class="p-float-label mb-1 flex-1">
      <input id="name" type="text" pInputText class="w-full" formControlName="email">
      <label>Email</label>
    </span>

    <span class="p-float-label flex-1">
      <input id="name" type="text" pInputText class="w-full" formControlName="customer">
      <label>Cliente</label>
    </span>

  </div>

  <div class="flex flex-row gap-4">
    <span class="p-float-label flex-1" style="min-width: 196px;">
      <input id="name" type="text" pInputText class="w-full" formControlName="grade">
      <label>Grado</label>
    </span>

    <span class="p-float-label flex-1">
      <p-dropdown [options]="roles" [autoDisplayFirst]="false" styleClass="w-full" formControlName="role"
        optionLabel="role" inputId="float-label"></p-dropdown>
      <label>Rol</label>
    </span>

    <span class="p-float-label flex-1" style="min-width: 196px;">
      <input id="name" type="text" pInputText class="w-full" formControlName="hours">
      <label>Horas</label>
    </span>

  </div>


  <div class="flex flex-row gap-4">

    <span class="p-float-label flex-1" style="min-width: 196px;">
      <input id="name" type="text" pInputText class="w-full" formControlName="businesscode">
      <label>Pr√°ctica</label>
    </span>

    <span class="p-float-label flex-1" style="min-width: 196px;">
      <input id="name" type="text" pInputText class="w-full" formControlName="department">
      <label>Dpto</label>
    </span>

    <span class="p-float-label flex-1" style="min-width: 196px;">
      <input id="name" type="text" pInputText class="w-full" formControlName="manager">
      <label>Evaluador</label>
    </span>

  </div>

  <div class="flex flex-row gap-4">

    <span class="p-float-label flex-1">
      <p-dropdown [options]="provinces" [autoDisplayFirst]="false" styleClass="w-full" appendTo="body"
        formControlName="province" optionLabel="province"> </p-dropdown>
      <label>Provincia</label>
    </span>

    <span class="p-float-label flex-1">
      <p-dropdown [options]="centers" [autoDisplayFirst]="false" styleClass="w-full" appendTo="body"
        formControlName="center" optionLabel="name" (onChange)="matchByProvince()"> </p-dropdown>
      <label>Oficina</label>
    </span>



    <span class="p-float-label flex-1">
      <p-dropdown [options]="actives" [autoDisplayFirst]="false" styleClass="w-full" appendTo="body"
        formControlName="active" optionLabel="label" optionValue="value"></p-dropdown>
      <label>Estado</label>
    </span>

  </div>

</div>

<div class="flex flex-row mt-5 gap-4 justify-content-end gap-2">
  <button pButton pRipple styleClass="" label="Cancelar" icon="pi pi-times" class="p-button p-button-secondary"
    (click)="closeWindow()"></button>
  <button pButton pRipple p-button-label="10px" label="Guardar" icon="pi pi-check" [disabled]="!personForm.valid"
    (click)="saveItem(personForm.value)"></button>

</div>